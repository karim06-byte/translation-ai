{"ast":null,"code":"var _jsxFileName = \"/Users/airgroupairgroup/Desktop/MinA/Translation-AI/frontend/src/components/BookView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Paper, Typography, Box, Button, TextField, Dialog, DialogTitle, DialogContent, DialogActions, Select, MenuItem, FormControl, InputLabel, Grid, AppBar, Toolbar, IconButton } from '@mui/material';\nimport { ArrowBack, Edit, Check, Close } from '@mui/icons-material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookView() {\n  _s();\n  const {\n    bookId\n  } = useParams();\n  const navigate = useNavigate();\n  const [segments, setSegments] = useState([]);\n  const [book, setBook] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [overrideDialogOpen, setOverrideDialogOpen] = useState(false);\n  const [newTranslation, setNewTranslation] = useState('');\n  const [engine, setEngine] = useState('gemini');\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchBook();\n    fetchSegments();\n\n    // Auto-refresh segments every 5 seconds to see translation progress\n    const interval = setInterval(() => {\n      fetchSegments();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [bookId]);\n  const fetchBook = async () => {\n    try {\n      const response = await axios.get(`/api/books/${bookId}`);\n      setBook(response.data);\n    } catch (error) {\n      console.error('Error fetching book:', error);\n    }\n  };\n  const fetchSegments = async () => {\n    try {\n      const response = await axios.get(`/api/segments/book/${bookId}?page=1&page_size=100`);\n      setSegments(response.data.segments);\n    } catch (error) {\n      console.error('Error fetching segments:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTranslateAll = async () => {\n    try {\n      const response = await axios.post(`/api/books/${bookId}/translate-all`);\n      alert(response.data.message || 'Translation started!');\n      // Refresh segments after a delay\n      setTimeout(() => fetchSegments(), 2000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error starting translation:', error);\n      alert('Error starting translation: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message));\n    }\n  };\n  const handleTranslate = async (segmentId, sourceText) => {\n    try {\n      const response = await axios.post('/api/translate', {\n        source_en: sourceText,\n        segment_id: segmentId\n      });\n\n      // Update segment in local state\n      setSegments(prev => prev.map(s => s.id === segmentId ? {\n        ...s,\n        translated_az: response.data.translated_az,\n        status: 'translated'\n      } : s));\n    } catch (error) {\n      console.error('Error translating:', error);\n      alert('Error translating segment');\n    }\n  };\n  const handleRetranslate = async (segmentId, sourceText) => {\n    try {\n      const response = await axios.post('/api/translate/retranslate', {\n        segment_id: segmentId,\n        engine: engine,\n        source_text: sourceText\n      });\n      setNewTranslation(response.data.new_translation);\n    } catch (error) {\n      console.error('Error retranslating:', error);\n      alert('Error retranslating segment');\n    }\n  };\n  const handleOverride = async () => {\n    if (!selectedSegment || !newTranslation) return;\n    try {\n      await axios.post(`/api/segments/${selectedSegment.id}/override`, {\n        segment_id: selectedSegment.id,\n        new_translation: newTranslation,\n        engine: engine\n      });\n\n      // Update segment\n      setSegments(prev => prev.map(s => s.id === selectedSegment.id ? {\n        ...s,\n        translated_az: newTranslation,\n        status: 'overridden'\n      } : s));\n      setOverrideDialogOpen(false);\n      setSelectedSegment(null);\n      setNewTranslation('');\n    } catch (error) {\n      console.error('Error overriding:', error);\n      alert('Error saving override');\n    }\n  };\n  const openOverrideDialog = segment => {\n    setSelectedSegment(segment);\n    setNewTranslation(segment.translated_az || '');\n    setOverrideDialogOpen(true);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"start\",\n          color: \"inherit\",\n          onClick: () => navigate('/'),\n          children: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          sx: {\n            flexGrow: 1\n          },\n          children: (book === null || book === void 0 ? void 0 : book.title_en) || 'Book'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        mt: 4,\n        mb: 4\n      },\n      children: segments.map(segment => /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: \"English (Source)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                mb: 2\n              },\n              children: segment.source_en\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: \"Azerbaijani (Translation)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                mb: 2\n              },\n              children: segment.translated_az || 'Not translated'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 1,\n            mt: 2\n          },\n          children: [!segment.translated_az && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            onClick: () => handleTranslate(segment.id, segment.source_en),\n            children: \"Translate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            startIcon: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 28\n            }, this),\n            onClick: () => openOverrideDialog(segment),\n            children: \"Edit/Override\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)]\n      }, segment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: overrideDialogOpen,\n      onClose: () => setOverrideDialogOpen(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Override Translation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          sx: {\n            mb: 1\n          },\n          children: \"Source (English):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mb: 2,\n            p: 1,\n            bgcolor: 'grey.100'\n          },\n          children: selectedSegment === null || selectedSegment === void 0 ? void 0 : selectedSegment.source_en\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Translation Engine\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: engine,\n            onChange: e => setEngine(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"gemini\",\n              children: \"Gemini\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"chatgpt\",\n              children: \"ChatGPT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: () => handleRetranslate(selectedSegment === null || selectedSegment === void 0 ? void 0 : selectedSegment.id, selectedSegment === null || selectedSegment === void 0 ? void 0 : selectedSegment.source_en),\n          sx: {\n            mb: 2\n          },\n          children: [\"Retranslate with \", engine]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          multiline: true,\n          rows: 6,\n          label: \"New Translation\",\n          value: newTranslation,\n          onChange: e => setNewTranslation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOverrideDialogOpen(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleOverride,\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(Check, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 75\n          }, this),\n          children: \"Save Override\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n}\n_s(BookView, \"efrhgBF6Ufv5owIfF38r6JMxYtg=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BookView;\nexport default BookView;\nvar _c;\n$RefreshReg$(_c, \"BookView\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Container","Paper","Typography","Box","Button","TextField","Dialog","DialogTitle","DialogContent","DialogActions","Select","MenuItem","FormControl","InputLabel","Grid","AppBar","Toolbar","IconButton","ArrowBack","Edit","Check","Close","axios","jsxDEV","_jsxDEV","BookView","_s","bookId","navigate","segments","setSegments","book","setBook","selectedSegment","setSelectedSegment","overrideDialogOpen","setOverrideDialogOpen","newTranslation","setNewTranslation","engine","setEngine","loading","setLoading","fetchBook","fetchSegments","interval","setInterval","clearInterval","response","get","data","error","console","handleTranslateAll","post","alert","message","setTimeout","_error$response","_error$response$data","detail","handleTranslate","segmentId","sourceText","source_en","segment_id","prev","map","s","id","translated_az","status","handleRetranslate","source_text","new_translation","handleOverride","openOverrideDialog","segment","children","position","edge","color","onClick","fileName","_jsxFileName","lineNumber","columnNumber","variant","component","sx","flexGrow","title_en","maxWidth","mt","mb","p","container","spacing","item","xs","md","display","gap","size","startIcon","open","onClose","fullWidth","bgcolor","value","onChange","e","target","multiline","rows","label","_c","$RefreshReg$"],"sources":["/Users/airgroupairgroup/Desktop/MinA/Translation-AI/frontend/src/components/BookView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Box,\n  Button,\n  TextField,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  Grid,\n  AppBar,\n  Toolbar,\n  IconButton,\n} from '@mui/material';\nimport { ArrowBack, Edit, Check, Close } from '@mui/icons-material';\nimport axios from 'axios';\n\nfunction BookView() {\n  const { bookId } = useParams();\n  const navigate = useNavigate();\n  const [segments, setSegments] = useState([]);\n  const [book, setBook] = useState(null);\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [overrideDialogOpen, setOverrideDialogOpen] = useState(false);\n  const [newTranslation, setNewTranslation] = useState('');\n  const [engine, setEngine] = useState('gemini');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchBook();\n    fetchSegments();\n    \n    // Auto-refresh segments every 5 seconds to see translation progress\n    const interval = setInterval(() => {\n      fetchSegments();\n    }, 5000);\n    \n    return () => clearInterval(interval);\n  }, [bookId]);\n\n  const fetchBook = async () => {\n    try {\n      const response = await axios.get(`/api/books/${bookId}`);\n      setBook(response.data);\n    } catch (error) {\n      console.error('Error fetching book:', error);\n    }\n  };\n\n  const fetchSegments = async () => {\n    try {\n      const response = await axios.get(`/api/segments/book/${bookId}?page=1&page_size=100`);\n      setSegments(response.data.segments);\n    } catch (error) {\n      console.error('Error fetching segments:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTranslateAll = async () => {\n    try {\n      const response = await axios.post(`/api/books/${bookId}/translate-all`);\n      alert(response.data.message || 'Translation started!');\n      // Refresh segments after a delay\n      setTimeout(() => fetchSegments(), 2000);\n    } catch (error) {\n      console.error('Error starting translation:', error);\n      alert('Error starting translation: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const handleTranslate = async (segmentId, sourceText) => {\n    try {\n      const response = await axios.post('/api/translate', {\n        source_en: sourceText,\n        segment_id: segmentId,\n      });\n      \n      // Update segment in local state\n      setSegments((prev) =>\n        prev.map((s) =>\n          s.id === segmentId\n            ? { ...s, translated_az: response.data.translated_az, status: 'translated' }\n            : s\n        )\n      );\n    } catch (error) {\n      console.error('Error translating:', error);\n      alert('Error translating segment');\n    }\n  };\n\n  const handleRetranslate = async (segmentId, sourceText) => {\n    try {\n      const response = await axios.post('/api/translate/retranslate', {\n        segment_id: segmentId,\n        engine: engine,\n        source_text: sourceText,\n      });\n      \n      setNewTranslation(response.data.new_translation);\n    } catch (error) {\n      console.error('Error retranslating:', error);\n      alert('Error retranslating segment');\n    }\n  };\n\n  const handleOverride = async () => {\n    if (!selectedSegment || !newTranslation) return;\n\n    try {\n      await axios.post(`/api/segments/${selectedSegment.id}/override`, {\n        segment_id: selectedSegment.id,\n        new_translation: newTranslation,\n        engine: engine,\n      });\n\n      // Update segment\n      setSegments((prev) =>\n        prev.map((s) =>\n          s.id === selectedSegment.id\n            ? { ...s, translated_az: newTranslation, status: 'overridden' }\n            : s\n        )\n      );\n\n      setOverrideDialogOpen(false);\n      setSelectedSegment(null);\n      setNewTranslation('');\n    } catch (error) {\n      console.error('Error overriding:', error);\n      alert('Error saving override');\n    }\n  };\n\n  const openOverrideDialog = (segment) => {\n    setSelectedSegment(segment);\n    setNewTranslation(segment.translated_az || '');\n    setOverrideDialogOpen(true);\n  };\n\n  return (\n    <Box>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton edge=\"start\" color=\"inherit\" onClick={() => navigate('/')}>\n            <ArrowBack />\n          </IconButton>\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            {book?.title_en || 'Book'}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n        {segments.map((segment) => (\n          <Paper key={segment.id} sx={{ p: 3, mb: 2 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                  English (Source)\n                </Typography>\n                <Typography variant=\"body1\" sx={{ mb: 2 }}>\n                  {segment.source_en}\n                </Typography>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                  Azerbaijani (Translation)\n                </Typography>\n                <Typography variant=\"body1\" sx={{ mb: 2 }}>\n                  {segment.translated_az || 'Not translated'}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Box sx={{ display: 'flex', gap: 1, mt: 2 }}>\n              {!segment.translated_az && (\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  onClick={() => handleTranslate(segment.id, segment.source_en)}\n                >\n                  Translate\n                </Button>\n              )}\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                startIcon={<Edit />}\n                onClick={() => openOverrideDialog(segment)}\n              >\n                Edit/Override\n              </Button>\n            </Box>\n          </Paper>\n        ))}\n      </Container>\n\n      <Dialog open={overrideDialogOpen} onClose={() => setOverrideDialogOpen(false)} maxWidth=\"md\" fullWidth>\n        <DialogTitle>Override Translation</DialogTitle>\n        <DialogContent>\n          <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>\n            Source (English):\n          </Typography>\n          <Typography variant=\"body2\" sx={{ mb: 2, p: 1, bgcolor: 'grey.100' }}>\n            {selectedSegment?.source_en}\n          </Typography>\n\n          <FormControl fullWidth sx={{ mb: 2 }}>\n            <InputLabel>Translation Engine</InputLabel>\n            <Select value={engine} onChange={(e) => setEngine(e.target.value)}>\n              <MenuItem value=\"gemini\">Gemini</MenuItem>\n              <MenuItem value=\"chatgpt\">ChatGPT</MenuItem>\n            </Select>\n          </FormControl>\n\n          <Button\n            variant=\"outlined\"\n            onClick={() => handleRetranslate(selectedSegment?.id, selectedSegment?.source_en)}\n            sx={{ mb: 2 }}\n          >\n            Retranslate with {engine}\n          </Button>\n\n          <TextField\n            fullWidth\n            multiline\n            rows={6}\n            label=\"New Translation\"\n            value={newTranslation}\n            onChange={(e) => setNewTranslation(e.target.value)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOverrideDialogOpen(false)}>Cancel</Button>\n          <Button onClick={handleOverride} variant=\"contained\" startIcon={<Check />}>\n            Save Override\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n\nexport default BookView;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}